ОПИСАНИЕ КОНФИГУРАЦИОННЫХ ПОЛЕЙ
в файле defaults записаны поля дефолтные значения полей, чтобы не тащить их в configuration_items
формат:
{
"PROXMOX_USER" : "root@pam",			// не используется
"PROXMOX_PASSWORD" : "123",			// не используется
"ITEM_SSH_PORT" : "22",				// порт для подключения к серверу по ssh
"VPN_TYPE": "pptp",				// дефолтный тип подлючения для vpn
"ITEM_HOST_TYPE": "null",			// не используется
"ITEM_SSH_KEY_EXCLUSIVE": "1",			// по-умолчанию открытый ключ устанавливать эксклюзивно (все другие удаляются)
"ITEM_GUEST_KEYS": []				// список гостевых ключей по-умолчанию пуст
}

в папке configuration_items хранятся файлы с описанием сервера к которому применяются настройки
имя файла - dns имя сервера
конфигурационные параметры объявленные в этом файле заменяют собой значения по-умолчанию
формат:
{
"ITEM_GROUPS": ["linux"],			// список групп, используется при генерации static inventory, необязательное поле (пока не используется)
"ITEM_HOST_NAME": "ansible",			// название хоста, внутри сервера, обязательное поле
"ITEM_ACLS": ["management"],			// список ALC для данного сервера, обязательное поле
"ITEM_GUEST_KEYS": ["inkadavr"],		// список гостевых ключей, необязательное поле
"ITEM_IP_ADDRESS": "192.168.29.3"		// ip адрес сервера, используется в случае если dns имени сервера не существует, необязательное поле
}

описание ACL
в файле acl в краткой форме записаны правила для файрвола
формат:
{
	"название ACL": {
		"название сервиса": ["названия", "источников"]
	}

}

в файле services записаны названия сервисов и их описание
формат:
{
  "назание сервиса": [
    {
      "service_destination_port": 443,		// используется, если необходимо уточнить порт службы, необязательное поле
      "service_protocol": "tcp",		// название протокола, обазательное поле
      "service_comment": "https",		// если порт только один - можно не использоать, необязательное поле
      "service_destination_ip": "127.0.0.1"	// используется если необходимо ип адрес на котором должна слушать служба, необязательно поле
    }
  ],
}

в файле sources записаны названия источников и их описание
формат:
{
  "название источника": [
    {	"type": "address", 				// обязательное поле, возможные значения:
	 // address - в этом режиме указывается напрямую ип адрес или подсеть
	 // group - в этом режиме указывается группа из inventory
	 // item - в этом режиме указывается inventory_hostname
	 // поля для режима address:
      "source_ip": "192.168.79.101",		// ип адрес источника, обазательное поле (режим address)
      "source_comment": "proxmoxdub01"		// если источник только один - можно не использоать, необязательное поле
	 // поля для режима address:
			"group": "proxmoxdub",				// указывается группа из inventory, все хосты из этой группы попадут в acl, обязательное поле
	 // поля для режима item:
	 		"name": "zabbix",							// указывается inventory_hostname
	 // в комментарий для каждого из хостов в режимах item и group будут браться значения inventory_hostname
    }
  ]
}

в файле key_replace_stats хранятся состояния этапов процедуры замены ключей
замена ключей происходит в несколько этапов:
1 этап: генерация нового ключа, складывается в папку new
2 этап: установка нового ключа во все сервера. Поскольку возможны ситуации когда ключ не установится на все машины сразу,
предусмотрена возможность запускать этот этап сколько угодно раз, работает идемпотентно.
В зависимости от значения ITEM_SSH_KEY_EXCLUSIVE устанавливается либо аддитивно, либо эксклюзивно (удаляет все другие ключи)
3 этап: удаление старого ключа. На этом этапе подлкючение к серверам происходит уже с использованием нового ключа, установленного
на предыдущем этапе. Можно запускать сколько угодно раз, работает идемпотентно.
4. этап: завершающий, перемещает новый ключ в папку current, старый перемещает в архив
формат:
{
  "key_generation_completed": 1,		// первый этап завершен
  "key_install_completed": 1,				// второй этап завершен
  "key_replace_completed": 1				// третий этап завершен
}
чтобы иницировать процедуру замены ключа, все значения необходимо установить в 0.
